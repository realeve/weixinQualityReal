function handleBarData(o,a,n){var t={xAxis:[],yAxis:[]};o.map(function(o,a){t.yAxis[a]=o.name+" ("+o.user_dpt+") ",t.xAxis[a]=o.value}),a.option.xAxis[n].min=t.xAxis[o.length-1]-10,a.option.series[n].data=t.xAxis.reverse(),a.option.yAxis[n].data=t.yAxis.reverse(),a.myChart[0].setOption(a.option)}module.exports={realScore:function(o){$.ajax({url:"http://cbpc540.applinzi.com/index.php?s=/addon/GoodVoice/GoodVoice/getRealScore&nums=30",data:{sportid:o.sportid},async:!1,dataType:"jsonp",callback:"JsonCallback"}).done(function(a){handleBarData(a,o,1)})},realScoreRate:function(o){$.ajax({url:"http://cbpc540.applinzi.com/index.php?s=/addon/GoodVoice/GoodVoice/getRealScoreRate&nums=30&perscore="+o.perScore,data:{sportid:o.sportid},async:!1,dataType:"jsonp",callback:"JsonCallback"}).done(function(a){handleBarData(a,o,0)})},scoreByGroup:function(o){$.ajax({url:"http://cbpc540.applinzi.com/index.php?s=/addon/GoodVoice/GoodVoice/getScoreByGroup",data:{sportid:o.sportid},async:!1,dataType:"jsonp",callback:"JsonCallback"}).done(function(a){var n={xAxis:[],yAxis:[]};a.map(function(o,a){n.xAxis[a]=o.dpt,n.yAxis[a]=o.score}),o.option.series[2].data=n.yAxis,o.option.xAxis[2].data=n.xAxis,o.myChart[0].setOption(o.option)})},answerSpeed:function(o){$.ajax({url:"http://cbpc540.applinzi.com/index.php?s=/addon/GoodVoice/GoodVoice/getAnswerSpeed",data:{sportid:o.sportid},async:!1,dataType:"jsonp",callback:"JsonCallback"}).done(function(a){var n={xAxis:[],yAxis:[]};a.map(function(o,a){n.xAxis[a]=o.user_name,n.yAxis[a]=o.num}),o.option.series[3].data=n.yAxis,o.option.xAxis[3].data=n.xAxis,o.myChart[0].setOption(o.option)})},answeredNums:function(o){$.ajax({url:"http://cbpc540.applinzi.com/index.php?s=/addon/GoodVoice/GoodVoice/getAnsweredNums",data:{sportid:o.sportid},async:!1,dataType:"jsonp",callback:"JsonCallback"}).done(function(a){var n=[],t=0;a.map(function(o,a){n[a]={name:1,value:1},n[a].name=o.dpt,n[a].value=o.nums,t+=Number.parseInt(o.nums)}),o.option.series[4].data=n,o.option.title[0].subtext="当前已连接人数："+t,o.myChart[0].setOption(o.option)})}};